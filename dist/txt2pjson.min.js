!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).txt2pjson=t()}(this,(function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e=function(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}((function(e,t){e.exports=function(e,t){if(null==t&&(t={fuzzy:!0}),/youtu\.?be/.test(e)){var n,o=[/youtu\.be\/([^#\&\?]{11})/,/\?v=([^#\&\?]{11})/,/\&v=([^#\&\?]{11})/,/embed\/([^#\&\?]{11})/,/\/v\/([^#\&\?]{11})/];for(n=0;n<o.length;++n)if(o[n].test(e))return o[n].exec(e)[1];if(t.fuzzy){var r=e.split(/[\/\&\?=#\.\s]/g);for(n=0;n<r.length;++n)if(/^[^#\&\?]{11}$/.test(r[n]))return r[n]}}return null}}));return t=>{const n={},o=[];return t.split("\n\n").forEach((t=>{const n=t.split("||"),r=n[0],i=n.length>1?n[1].trim().split(","):"";let u={type:"text",text:"# "+r,textVar:"title",scale:4};i&&i.forEach((e=>{const t=e.split(":");u[t[0]]=t[1]}));r.match(/(\.jpg|\.gif|\.png|\.jpeg|\.webp)/gi)&&(u={type:"image",url:r});r.match(/(\.m4v|\.mov|\.mp4|\.webm)/gi)&&(u={type:"video",url:r});r.match(/(\.htm|\.html)/gi)&&(u={type:"embed",url:r});const l=e(r);l&&(u={type:"youtube",url:l}),o.push({blocks:[u]})})),n.scenes=o,n}}));
